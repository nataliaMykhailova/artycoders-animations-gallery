(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const a=[{id:"2",title:"textAnim2",type:"text",subtypes:["hover"],path:"animations/textAnim2.html",width:"35vw"},{id:"1",title:"textAnim1",type:"text",subtypes:["link"],path:"animations/textAnim1.html"},{id:"3",title:"slider1",type:"slider",subtypes:[""],path:"animations/slider1.html",width:"60vw",height:"35vw"},{id:"4",title:"blocks-anim1",type:"blocks",subtypes:["appear"],path:"animations/blocks-anim1.html",width:"80vw",height:"70vh"}],u=document.getElementById("gallery"),h=document.getElementById("search"),l=document.getElementById("filterType"),c=document.getElementById("filterSubtype");function b(){[...new Set(a.map(n=>n.type))].forEach(n=>{const t=document.createElement("option");t.value=n,t.textContent=n,l.append(t)})}function m(r){if(c.innerHTML='<option value="">— Усі підтипи —</option>',!r){c.disabled=!0;return}c.disabled=!1,[...new Set(a.filter(t=>t.type===r).flatMap(t=>t.subtypes||[]))].forEach(t=>{const i=document.createElement("option");i.value=t,i.textContent=t,c.append(i)})}function p(){const r=h.value.trim().toLowerCase(),n=l.value,t=c.value,i=a.filter(e=>{const o=e.title.toLowerCase().includes(r),s=!n||e.type===n,d=!t||(e.subtypes||[]).includes(t);return o&&s&&d});y(i)}function y(r){u.innerHTML="",r.forEach(n=>{const t=n.width,i=n.height,e=document.createElement("div");e.className="card",e.innerHTML=`
      <h3>${n.title}</h3>
      <iframe
        src="${n.path}"
        loading="lazy"
        title="${n.title}"
        style="
          ${t?`width: ${t};`:""}
          ${i?`height: ${i};`:""}
          border: none;
          display: inline-block;
        "
      ></iframe>
    `,u.append(e);const o=e.querySelector("iframe");!t&&!i&&o.addEventListener("load",()=>{try{const s=o.contentWindow.document,d=Math.max(s.documentElement.scrollWidth,s.body.scrollWidth),f=Math.max(s.documentElement.scrollHeight,s.body.scrollHeight);o.style.width=d+"px",o.style.height=f+"px"}catch(s){console.warn("Не вдалося виміряти iframe:",s)}})})}document.addEventListener("DOMContentLoaded",()=>{b(),m(""),y(a),l.addEventListener("change",()=>{m(l.value),p()}),c.addEventListener("change",p),h.addEventListener("input",p)});
